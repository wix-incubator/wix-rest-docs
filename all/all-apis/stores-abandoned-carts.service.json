{"name":"Stores Abandoned Carts","memberOf":"All APIs","category":"business-service","mixes":[],"labels":[],"docs":{"summary":"Read and delete abandoned carts, and listen to abandoned-related events from Wix Stores","description":[]},"properties":[],"tags":[{"name":"AbandonedCarts","entity":null}],"relatedGuides":[{"path":"../guides/stores-abandoned-carts/docs/use_case.md","name":"Use Case"},{"path":"../guides/stores-abandoned-carts/docs/intro.md","name":"Introduction"}],"operations":[{"name":"Get Abandoned Cart","methodName":"GetAbandonedCart","serviceName":"AbandonedCarts","tag":"AbandonedCarts","permissions":[{"name":"Manage Orders","description":"Request permission to read, create and modify the site's Wix Stores orders."},{"name":"Read Orders","description":"Request permission to read the site's Wix Stores order info."}],"events":[],"labels":[],"nameParams":[],"requiredFields":["id"],"params":[{"in":"PATH","name":"id","type":"string","doc":" Cart ID\n","required":true}],"ret":{"type":{"name":"GetAbandonedCart","statusCode":"200","typeParams":["All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_GetAbandonedCartResponse"]},"doc":""},"locations":[],"docs":{"summary":" \n","description":[],"request":"GET","url":"https://www.wixapis.com/stores/v1/abandonedCarts/{id}","links":[],"examples":[{"title":"","body":["curl -X GET 'https://www.wixapis.com/stores/v1/abandonedCarts/be5911ef-a336-4671-986d-08c2f33e413f' \\\n-H 'Content-Type: application/json' \\\n-H 'Authorization: <AUTH> \\"],"response":["{\"abandonedCart\": {\n  \"id\": \"be5911ef-a336-4671-986d-08c2f33e413f\",\n  \"status\": \"ABANDONED\",\n  \"abandonTime\": \"2019-08-05T09:50:13.762Z\",\n  \"buyerInfo\":   {\n    \"id\": \"29555e37-a8b0-4d8f-8326-1abce9c4634e\",\n    \"identityType\": \"CONTACT\",\n    \"email\": \"Ivanushka@example.com\",\n    \"phone\": \"0525818140\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\"\n  },\n  \"total\": \"$14.20\",\n  \"activities\": [  {\n    \"activityType\": \"EMAIL_SENT\",\n    \"message\": \"email status has changed to: EMAIL_SENT\",\n    \"timestamp\": \"2019-08-05T09:50:14.818Z\",\n    \"customData\": {\"namespace\": \"wixstores_email_status\"}\n  }]\n}} "],"type":"curl","extra":{}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"GetAbandonedCartRequest","rpcResponseName":"GetAbandonedCartResponse"},"customLabels":[{"id":"maturity-beta"}]},{"name":"Query Abandoned Carts","methodName":"QueryAbandonedCarts","serviceName":"AbandonedCarts","tag":"AbandonedCarts","permissions":[{"name":"Manage Orders","description":"Request permission to read, create and modify the site's Wix Stores orders."},{"name":"Read Orders","description":"Request permission to read the site's Wix Stores order info."}],"events":[],"labels":[],"nameParams":[],"params":[{"in":"BODY","name":"query","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_Query","doc":" Query details\n","required":false}],"ret":{"type":{"name":"QueryAbandonedCarts","statusCode":"200","typeParams":["All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_QueryAbandonedCartsResponse"]},"doc":""},"locations":[],"docs":{"summary":" Returns abandoned carts based on the requested query parameters\n \n","description":[],"request":"POST","url":"https://www.wixapis.com/stores/v1/abandonedCarts/query","links":[],"examples":[{"title":"","body":["curl -X POST 'https://www.wixapis.com/stores/v1/abandonedCarts/query' \\\n--data-binary '{\n    \"query\": {\n        \"paging\": {\n            \"limit\":1,\n            \"offset\":0\n        },\n        \"filter\": \"{\\\"status\\\":\\\"RECOVERED\\\"}\",\n        \"sort\": \"[{\\\"abandonTime\\\": \\\"desc\\\"}]\"\n    }\n}'\n\n-H 'Content-Type: application/json' \\\n-H 'Authorization: <AUTH>'"],"response":["{\n  \"abandonedCarts\":   [\n        {\n      \"id\": \"a712937d-7292-466b-ab2c-c7d3517bcfd6\",\n      \"status\": \"RECOVERED\",\n      \"abandonTime\": \"2019-07-26T13:27:09.566Z\",\n      \"buyerInfo\":       {\n        \"id\": \"19361dcf-99df-4ea9-82db-5b3731619fb1\",\n        \"identityType\": \"CONTACT\",\n        \"email\": \"John.Doe@example.com\",\n        \"firstName\": \"John\",\n        \"lastName\": \"Doe\"\n      },\n      \"total\": \"$16.05\",\n      \"activities\": [      {\n        \"activityType\": \"EMAIL_SENT\",\n        \"message\": \"email status has changed to: EMAIL_SENT\",\n        \"timestamp\": \"2019-07-26T13:27:10.574Z\",\n        \"customData\": {\"namespace\": \"wixstores_email_status\"}\n      }]\n    },\n        {\n      \"id\": \"f5f408a7-268d-460d-a9f7-c76571d9b20b\",\n      \"status\": \"RECOVERED\",\n      \"abandonTime\": \"2019-07-23T14:12:06.307Z\",\n      \"buyerInfo\":       {\n        \"id\": \"b241a23c-4bc5-4cc9-a9d2-03efee0ccc7d\",\n        \"identityType\": \"ADMIN\",\n        \"email\": \"John.Smith@example.com\",\n        \"phone\": \"5122341234\",\n        \"firstName\": \"John\",\n        \"lastName\": \"Smith\"\n      },\n      \"total\": \"$15.05\",\n      \"activities\": [      {\n        \"activityType\": \"EMAIL_SENT\",\n        \"message\": \"email status has changed to: EMAIL_SENT\",\n        \"timestamp\": \"2019-07-23T14:12:07.690Z\",\n        \"customData\": {\"namespace\": \"wixstores_email_status\"}\n      }]\n    }\n  ],\n  \"totalResults\": 7\n} "],"type":"curl","extra":{}}],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"QueryAbandonedCartsRequest","rpcResponseName":"QueryAbandonedCartsResponse"},"customLabels":[{"id":"maturity-beta"}]}],"events":[{"type":"_wix_cart_abandonment_api_v1_CartAbandonedEvent","name":"Cart Abandoned Webhook","docs":{"summary":""},"topic":"wixStores-abandoned-cart","tag":"AbandonedCarts","permissions":[{"name":"Manage Orders","description":"Request permission to read, create and modify the site's Wix Stores orders."},{"name":"Read Orders","description":"Request permission to read the site's Wix Stores order info."}],"customLabels":[{"id":"maturity-beta"}]},{"type":"_wix_cart_abandonment_api_v1_CartRecoveredEvent","name":"Cart Recovered Webhook","docs":{"summary":""},"topic":"wixStores-cart-recovered","tag":"AbandonedCarts","permissions":[{"name":"Manage Orders","description":"Request permission to read, create and modify the site's Wix Stores orders."},{"name":"Read Orders","description":"Request permission to read the site's Wix Stores order info."}],"customLabels":[{"id":"maturity-beta"}]}],"callbacks":[],"messages":[{"name":"_wix_cart_abandonment_api_v1_BuyerInfo","displayName":"Buyer Info Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"id","type":"string","doc":" Wix customer ID\n"},{"name":"identityType","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_Identity","doc":" Customer information\n"},{"name":"email","type":"string","doc":" Customer's email address\n"},{"name":"phone","type":"string","doc":" Customer's phone number\n"},{"name":"firstName","type":"string","doc":" Customer's first name\n"},{"name":"lastName","type":"string","doc":" Customer's last name\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_Activity","displayName":"Activity Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"activityType","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_ActivityType","doc":" Log item type\n","readOnly":true},{"name":"message","type":"string","doc":" Comment added to Log item\n","readOnly":true},{"name":"timestamp","type":"string","doc":" Log item occurrence timestamp\n","readOnly":true},{"name":"customData","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_CustomData","doc":" Custom data for un-typed activities\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_CustomData","displayName":"Custom Data Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"namespace","type":"string","doc":" Activity unique namespace\n"},{"name":"customValue","type":"struct","doc":" Custom json field for any desired data\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_AbandonedCart","displayName":"Abandoned Cart Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"id","type":"string","doc":" Original cart ID\n"},{"name":"status","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_AbandonedCart_Status","doc":" Cart status\n"},{"name":"abandonTime","type":"string","doc":" Time the cart was abandoned\n","readOnly":true},{"name":"buyerInfo","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_BuyerInfo","doc":" Buyer information\n"},{"name":"total","type":"string","doc":" Cart total including currency symbol\n"},{"name":"activities","type":{"name":"array","typeParams":["All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_Activity"]},"doc":" History activities\n","readOnly":true}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_Query","displayName":"Query Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"paging","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_Paging","doc":""},{"name":"filter","type":"string","doc":" A filter string, for more information see the intro section\n"},{"name":"sort","type":"string","doc":" Sort string, for more information see the intro section\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_Paging","displayName":"Paging Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"limit","type":"integer","doc":" The number of items to load\n"},{"name":"offset","type":"integer","doc":" The offset since the beginning of the collection\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_GetAbandonedCartRequest","displayName":"Get Abandoned Cart Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"id","type":"string","doc":" Cart ID\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_GetAbandonedCartResponse","displayName":"Get Abandoned Cart Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"abandonedCart","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_AbandonedCart","doc":" Cart details\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_QueryAbandonedCartsResponse","displayName":"Query Abandoned Carts Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"abandonedCarts","type":{"name":"array","typeParams":["All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_AbandonedCart"]},"doc":" Abandoned carts list\n"},{"name":"totalResults","type":"integer","doc":" Total number of carts\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_QueryAbandonedCartsRequest","displayName":"Query Abandoned Carts Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"query","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_Query","doc":" Query details\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_DeleteCartRequest","displayName":"Delete Cart Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"id","type":"string","doc":" Cart ID\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_DeleteCartResponse","displayName":"Delete Cart Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_Totals","displayName":"Totals Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"subtotal","type":"number","doc":" Subtotal of all line items in cart, without shipping and taxes\n"},{"name":"total","type":"number","doc":" Total cart price\n"},{"name":"formattedTotal","type":"string","doc":" Formatted total cart price includes currency symbol\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_CartAbandonedEvent","displayName":"Cart Abandoned Event Object","locations":[],"docs":{"summary":"","links":[],"examples":[{"title":"","body":["{\n  \"cartId\": \"be5911ef-a336-4671-986d-08c2f33e413f\",\n  \"status\": \"ABANDONED\",\n  \"creationTime\": \"2019-08-05T09:50:13.762Z\",\n  \"abandonTime\": \"2019-08-05T10:55:17.762Z\",\n  \"buyerInfo\":   {\n    \"id\": \"29555e37-a8b0-4d8f-8326-1abce9c4634e\",\n    \"identityType\": \"CONTACT\",\n    \"email\": \"Ivanushka@example.com\",\n    \"phone\": \"0525818140\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\"\n  },\n  \"itemsCount\": 3,\n  \"couponId\": \"6f555e37-a8b0-4671-986d-08c2f33e414c\",\n  \"totals\":   {\n    \"subtotal\": 14.2,\n    \"total\": 14.2,\n    \"formattedTotal\": \"$14.20\"\n  },\n  \"checkoutUrl\": \"https://www.myexamplesite.com/cart?redirectToCheckout=be5911ef-a336-4671-986d-08c2f33e413f\"\n} "],"type":"json","extra":{}}]},"members":[{"name":"cartId","type":"string","doc":""},{"name":"creationTime","type":"string","doc":" Time the cart was created\n","readOnly":true},{"name":"abandonTime","type":"string","doc":" Time the cart was abandoned\n","readOnly":true},{"name":"buyerInfo","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_BuyerInfo","doc":" Buyer information\n"},{"name":"itemsCount","type":"integer","doc":" Amount of items in cart\n"},{"name":"couponId","type":"string","doc":" Coupon ID (if relevant)\n"},{"name":"totals","type":"All APIs.Stores Abandoned Carts._wix_cart_abandonment_api_v1_Totals","doc":" Subtotal of all line items in cart, not before shipping and taxes\n"},{"name":"checkoutUrl","type":"string","doc":" Checkout URL - checkout with the abandoned cart details\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_CartRecoveredEvent","displayName":"Cart Recovered Event Object","locations":[],"docs":{"summary":"","links":[],"examples":[{"title":"","body":["{\n  \"cartId\": \"be5911ef-a336-4671-986d-08c2f33e413f\",\n  \"recoveredTime\": \"2019-08-05T09:50:13.762Z\",\n  \"creationTime\": \"2019-08-05T09:50:13.762Z\",\n  \"abandonTime\": \"2019-08-05T10:55:17.762Z\"\n} "],"type":"json","extra":{}}]},"members":[{"name":"cartId","type":"string","doc":""},{"name":"recoveredTime","type":"string","doc":" Time the cart was recovered\n","readOnly":true},{"name":"creationTime","type":"string","doc":" Time the cart was created\n","readOnly":true},{"name":"abandonedTime","type":"string","doc":" Time the cart was abandoned\n","readOnly":true}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_Identity","displayName":"Identity Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> ADMIN -  Customer is the site owner\n <\/code><\/li><li><code> MEMBER -  Customer is logged in\n <\/code><\/li><li><code> VISITOR -  Customer is not logged in\n <\/code><\/li><li><code> CONTACT -  Contact was created for the customer\n <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["ADMIN","MEMBER","VISITOR","CONTACT"],"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_ActivityType","displayName":"Activity Type Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> UNRECOGNIZED_TYPE <\/code><\/li><li><code> SCHEDULED <\/code><\/li><li><code> EMAIL_SENT <\/code><\/li><li><code> EMAIL_NOT_SENT <\/code><\/li><li><code> NOTIFICATION_SENT <\/code><\/li><li><code> TASK_CREATED <\/code><\/li><li><code> CUSTOM_ACTIVITY <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["UNRECOGNIZED_TYPE","SCHEDULED","EMAIL_SENT","EMAIL_NOT_SENT","NOTIFICATION_SENT","TASK_CREATED","CUSTOM_ACTIVITY"],"extra":{},"labels":[]},{"name":"_wix_cart_abandonment_api_v1_AbandonedCart_Status","displayName":"Status Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> ABANDONED <\/code><\/li><li><code> RECOVERED <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["ABANDONED","RECOVERED"],"extra":{},"labels":[]}],"extra":{"artifactId":"com.wixpress.ecommerce.wix-ecommerce-cart-abandonment-api"}}